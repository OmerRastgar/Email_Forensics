<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DNS Dumpster Results</title>
</head>
<body>
    <h2>Host Information</h2>
    <ul id="host-list"></ul>

    <script>
        // Define your API key and domain to search
        const apiKey = 'a5cbdf3353973fe0809466658be41c6092659d4c8dbe37b253fbbbfdfb377df5';
        const domain = 'example.com';

        // Fetch data from the API
        async function fetchDnsData() {
            try {
                const response = await fetch(`https://api.dnsdumpster.com/domain/${domain}`, {
                    headers: {
                        'X-API-Key': apiKey,
                        'mode':'no-cors'
                    }
                });

                // Check if the response is okay
                if (!response.ok) {
                    throw new Error(`Error: ${response.status} ${response.statusText}`);
                }

                // Parse JSON response
                const data = await response.json();
                displayResults(data);
            } catch (error) {
                console.error('Error fetching data:', error);
            }
        }

        // Display the first few hosts from the API response
        function displayResults(data) {
            const hostList = document.getElementById('host-list');
            hostList.innerHTML = ''; // Clear existing data

            // Extract A records (hosts) and display the first few
            const hosts = data.a || [];
            hosts.slice(0, 5).forEach((hostRecord) => {
                const hostItem = document.createElement('li');
                const ipInfo = hostRecord.ips[0];
                
                hostItem.textContent = `Host: ${hostRecord.host}, IP: ${ipInfo.ip}, Country: ${ipInfo.country}, ASN: ${ipInfo.asn_name}`;
                
                hostList.appendChild(hostItem);
            });

            // Extract NS records (name servers) and display the first few
            const nsRecords = data.ns || [];
            nsRecords.slice(0, 5).forEach((nsRecord) => {
                const nsItem = document.createElement('li');
                const ipInfo = nsRecord.ips[0];

                nsItem.textContent = `NS Host: ${nsRecord.host}, IP: ${ipInfo.ip}, Country: ${ipInfo.country}, ASN: ${ipInfo.asn_name}`;
                
                hostList.appendChild(nsItem);
            });
        }

        // Call the function to fetch data
        fetchDnsData();
    </script>
</body>
</html>
